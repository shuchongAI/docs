---
title: "Claude Messages API"
description: "
- Claude Messages API í˜•ì‹ê³¼ ì™„ë²½í•˜ê²Œ í˜¸í™˜

- ë‹¤ì¤‘ í„´ ëŒ€í™” ë° ë‹¨ì¼ ì¿¼ë¦¬ ì§€ì›

- í…ìŠ¤íŠ¸ ë° ì´ë¯¸ì§€ë¥¼ í¬í•¨í•œ ë©€í‹°ëª¨ë‹¬ ì½˜í…ì¸  ì§€ì›
"
api: "POST https://api.apimart.ai/v1/messages"
---

<RequestExample>

```bash cURL
curl https://api.apimart.ai/v1/messages \
  -H "x-api-key: $API_KEY" \
  -H "anthropic-version: 2025-10-01" \
  -H "content-type: application/json" \
  -d '{
    "model": "claude-sonnet-4-5-20250929",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "Hello, world"}
    ]
  }'
```

```python Python
import anthropic

client = anthropic.Anthropic(
    api_key="YOUR_API_KEY",
    base_url="https://api.apimart.ai"
)

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "Hello, world"}
    ]
)

print(message.content)
```

```javascript JavaScript
import Anthropic from '@anthropic-ai/sdk';

const client = new Anthropic({
  apiKey: process.env.API_KEY,
  baseURL: 'https://api.apimart.ai'
});

const message = await client.messages.create({
  model: 'claude-sonnet-4-5-20250929',
  max_tokens: 1024,
  messages: [
    { role: 'user', content: 'Hello, world' }
  ]
});

console.log(message.content);
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "io/ioutil"
    "net/http"
    "os"
)

func main() {
    url := "https://api.apimart.ai/v1/messages"

    payload := map[string]interface{}{
        "model": "claude-sonnet-4-5-20250929",
        "max_tokens": 1024,
        "messages": []map[string]string{
            {
                "role":    "user",
                "content": "Hello, world",
            },
        },
    }

    jsonData, _ := json.Marshal(payload)

    req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
    req.Header.Set("x-api-key", os.Getenv("API_KEY"))
    req.Header.Set("anthropic-version", "2025-10-01")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, err := client.Do(req)
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()

    body, _ := ioutil.ReadAll(resp.Body)
    fmt.Println(string(body))
}
```

```java Java
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.net.URI;

public class Main {
    public static void main(String[] args) throws Exception {
        String url = "https://api.apimart.ai/v1/messages";
        String apiKey = System.getenv("API_KEY");

        String payload = """
        {
          "model": "claude-sonnet-4-5-20250929",
          "max_tokens": 1024,
          "messages": [
            {
              "role": "user",
              "content": "Hello, world"
            }
          ]
        }
        """;

        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create(url))
            .header("x-api-key", apiKey)
            .header("anthropic-version", "2025-10-01")
            .header("Content-Type", "application/json")
            .POST(HttpRequest.BodyPublishers.ofString(payload))
            .build();

        HttpResponse<String> response = client.send(request,
            HttpResponse.BodyHandlers.ofString());

        System.out.println(response.body());
    }
}
```

```php PHP
<?php

$url = "https://api.apimart.ai/v1/messages";
$apiKey = getenv('API_KEY');

$payload = [
    "model" => "claude-sonnet-4-5-20250929",
    "max_tokens" => 1024,
    "messages" => [
        [
            "role" => "user",
            "content" => "Hello, world"
        ]
    ]
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    "x-api-key: " . $apiKey,
    "anthropic-version: 2025-10-01",
    "Content-Type: application/json"
]);

$response = curl_exec($ch);
curl_close($ch);

echo $response;
?>
```

```ruby Ruby
require 'net/http'
require 'json'
require 'uri'

url = URI("https://api.apimart.ai/v1/messages")
api_key = ENV['API_KEY']

payload = {
  model: "claude-sonnet-4-5-20250929",
  max_tokens: 1024,
  messages: [
    {
      role: "user",
      content: "Hello, world"
    }
  ]
}

http = Net::HTTP.new(url.host, url.port)
http.use_ssl = true

request = Net::HTTP::Post.new(url)
request["x-api-key"] = api_key
request["anthropic-version"] = "2025-10-01"
request["Content-Type"] = "application/json"
request.body = payload.to_json

response = http.request(request)
puts response.body
```

```swift Swift
import Foundation

let url = URL(string: "https://api.apimart.ai/v1/messages")!
let apiKey = ProcessInfo.processInfo.environment["API_KEY"] ?? ""

let payload: [String: Any] = [
    "model": "claude-sonnet-4-5-20250929",
    "max_tokens": 1024,
    "messages": [
        [
            "role": "user",
            "content": "Hello, world"
        ]
    ]
]

var request = URLRequest(url: url)
request.httpMethod = "POST"
request.setValue(apiKey, forHTTPHeaderField: "x-api-key")
request.setValue("2025-10-01", forHTTPHeaderField: "anthropic-version")
request.setValue("application/json", forHTTPHeaderField: "Content-Type")
request.httpBody = try? JSONSerialization.data(withJSONObject: payload)

let task = URLSession.shared.dataTask(with: request) { data, response, error in
    if let error = error {
        print("Error: \(error)")
        return
    }

    if let data = data, let responseString = String(data: data, encoding: .utf8) {
        print(responseString)
    }
}

task.resume()
```

```csharp C#
using System;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        var url = "https://api.apimart.ai/v1/messages";
        var apiKey = Environment.GetEnvironmentVariable("API_KEY");

        var payload = @"{
            ""model"": ""claude-sonnet-4-5-20250929"",
            ""max_tokens"": 1024,
            ""messages"": [
                {
                    ""role"": ""user"",
                    ""content"": ""Hello, world""
                }
            ]
        }";

        using var client = new HttpClient();
        client.DefaultRequestHeaders.Add("x-api-key", apiKey);
        client.DefaultRequestHeaders.Add("anthropic-version", "2025-10-01");

        var content = new StringContent(payload, Encoding.UTF8, "application/json");
        var response = await client.PostAsync(url, content);
        var result = await response.Content.ReadAsStringAsync();

        Console.WriteLine(result);
    }
}
```

```c C
#include <stdio.h>
#include <curl/curl.h>
#include <stdlib.h>

int main(void) {
    CURL *curl;
    CURLcode res;
    const char *api_key = getenv("API_KEY");

    curl_global_init(CURL_GLOBAL_DEFAULT);
    curl = curl_easy_init();

    if(curl) {
        const char *url = "https://api.apimart.ai/v1/messages";
        const char *payload = "{"
            "\"model\":\"claude-sonnet-4-5-20250929\","
            "\"max_tokens\":1024,"
            "\"messages\":[{\"role\":\"user\",\"content\":\"Hello, world\"}]"
        "}";

        char auth_header[256];
        snprintf(auth_header, sizeof(auth_header), "x-api-key: %s", api_key);

        struct curl_slist *headers = NULL;
        headers = curl_slist_append(headers, auth_header);
        headers = curl_slist_append(headers, "anthropic-version: 2025-10-01");
        headers = curl_slist_append(headers, "Content-Type: application/json");

        curl_easy_setopt(curl, CURLOPT_URL, url);
        curl_easy_setopt(curl, CURLOPT_POSTFIELDS, payload);
        curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);

        res = curl_easy_perform(curl);

        if(res != CURLE_OK) {
            fprintf(stderr, "curl_easy_perform() failed: %s\n",
                    curl_easy_strerror(res));
        }

        curl_slist_free_all(headers);
        curl_easy_cleanup(curl);
    }

    curl_global_cleanup();
    return 0;
}
```

```objectivec Objective-C
#import <Foundation/Foundation.h>

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        NSURL *url = [NSURL URLWithString:@"https://api.apimart.ai/v1/messages"];
        NSString *apiKey = [NSProcessInfo processInfo].environment[@"API_KEY"];

        NSDictionary *payload = @{
            @"model": @"claude-sonnet-4-5-20250929",
            @"max_tokens": @1024,
            @"messages": @[
                @{
                    @"role": @"user",
                    @"content": @"Hello, world"
                }
            ]
        };

        NSError *error;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:payload
                                                          options:0
                                                            error:&error];

        NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
        [request setHTTPMethod:@"POST"];
        [request setValue:apiKey forHTTPHeaderField:@"x-api-key"];
        [request setValue:@"2025-10-01" forHTTPHeaderField:@"anthropic-version"];
        [request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
        [request setHTTPBody:jsonData];

        NSURLSessionDataTask *task = [[NSURLSession sharedSession]
            dataTaskWithRequest:request
            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
                if (error) {
                    NSLog(@"Error: %@", error);
                    return;
                }
                NSString *result = [[NSString alloc] initWithData:data
                                                        encoding:NSUTF8StringEncoding];
                NSLog(@"%@", result);
            }];

        [task resume];
        [[NSRunLoop mainRunLoop] run];
    }
    return 0;
}
```

```ocaml OCaml
(* Requires cohttp and yojson libraries *)
open Lwt
open Cohttp
open Cohttp_lwt_unix

let url = "https://api.apimart.ai/v1/messages"
let api_key = Sys.getenv "API_KEY"

let payload = {|{
  "model": "claude-sonnet-4-5-20250929",
  "max_tokens": 1024,
  "messages": [
    {
      "role": "user",
      "content": "Hello, world"
    }
  ]
}|}

let () =
  let headers = Header.init ()
    |> fun h -> Header.add h "x-api-key" api_key
    |> fun h -> Header.add h "anthropic-version" "2025-10-01"
    |> fun h -> Header.add h "Content-Type" "application/json"
  in
  let body = Cohttp_lwt.Body.of_string payload in

  let response = Client.post ~headers ~body (Uri.of_string url) >>= fun (resp, body) ->
    body |> Cohttp_lwt.Body.to_string >|= fun body_str ->
    print_endline body_str
  in
  Lwt_main.run response
```

```dart Dart
import 'dart:convert';
import 'dart:io';
import 'package:http/http.dart' as http;

void main() async {
  final url = Uri.parse('https://api.apimart.ai/v1/messages');
  final apiKey = Platform.environment['API_KEY'];

  final payload = {
    'model': 'claude-sonnet-4-5-20250929',
    'max_tokens': 1024,
    'messages': [
      {
        'role': 'user',
        'content': 'Hello, world'
      }
    ]
  };

  final response = await http.post(
    url,
    headers: {
      'x-api-key': apiKey!,
      'anthropic-version': '2025-10-01',
      'Content-Type': 'application/json',
    },
    body: jsonEncode(payload),
  );

  print(response.body);
}
```

```r R
library(httr)
library(jsonlite)

url <- "https://api.apimart.ai/v1/messages"
api_key <- Sys.getenv("API_KEY")

payload <- list(
  model = "claude-sonnet-4-5-20250929",
  max_tokens = 1024,
  messages = list(
    list(
      role = "user",
      content = "Hello, world"
    )
  )
)

response <- POST(
  url,
  add_headers(
    `x-api-key` = api_key,
    `anthropic-version` = "2025-10-01",
    `Content-Type` = "application/json"
  ),
  body = toJSON(payload, auto_unbox = TRUE),
  encode = "raw"
)

cat(content(response, "text"))
```

</RequestExample>

<ResponseExample>

```json 200
{
  "code": 200,
  "data": {
    "id": "msg_013Zva2CMHLNnXjNJJKqJ2EF",
    "type": "message",
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Claudeì…ë‹ˆë‹¤. ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤."
      }
    ],
    "model": "claude-sonnet-4-5-20250929",
    "stop_reason": "end_turn",
    "stop_sequence": null,
    "usage": {
      "input_tokens": 12,
      "output_tokens": 18
    }
  }
}
```

```json 400
{
  "type": "error",
  "error": {
    "type": "invalid_request_error",
    "message": "ì˜ëª»ëœ ìš”ì²­ ë§¤ê°œë³€ìˆ˜"
  }
}
```

```json 401
{
  "type": "error",
  "error": {
    "type": "authentication_error",
    "message": "ìœ íš¨í•˜ì§€ ì•Šì€ API í‚¤"
  }
}
```

```json 429
{
  "type": "error",
  "error": {
    "type": "rate_limit_error",
    "message": "ìš”ì²­ í•œë„ ì´ˆê³¼"
  }
}
```

```json 500
{
  "type": "error",
  "error": {
    "type": "api_error",
    "message": "ë‚´ë¶€ ì„œë²„ ì˜¤ë¥˜"
  }
}
```

</ResponseExample>

## ì¸ì¦

<ParamField header="x-api-key" type="string" required>
  ì¸ì¦ì„ ìœ„í•œ API í‚¤

  [API í‚¤ ê´€ë¦¬ í˜ì´ì§€](https://api.apimart.ai/console/token)ë¥¼ ë°©ë¬¸í•˜ì—¬ API í‚¤ë¥¼ ë°›ìœ¼ì„¸ìš”

  ìš”ì²­ í—¤ë”ì— ì¶”ê°€:
  ```
  x-api-key: YOUR_API_KEY
  ```
</ParamField>

<ParamField header="anthropic-version" type="string" required>
  API ë²„ì „

  ì‚¬ìš©í•  Claude API ë²„ì „ì„ ì§€ì •í•©ë‹ˆë‹¤

  ì˜ˆ: `2025-10-01`
</ParamField>

## ìš”ì²­ ë³¸ë¬¸

<ParamField body="model" type="string" required default="claude-haiku-4-5-20251001">
  ëª¨ë¸ ì´ë¦„

  - `claude-haiku-4-5-20251001` - Claude 4.5 ë¹ ë¥¸ ì‘ë‹µ ë²„ì „
  - `claude-sonnet-4-5-20250929` - Claude 4.5 ê· í˜• ë²„ì „
  - `claude-opus-4-1-20250805` - ê°€ì¥ ê°•ë ¥í•œ Claude 4.1 í”Œë˜ê·¸ì‹­ ëª¨ë¸
  - `claude-opus-4-1-20250805-thinking` - Claude 4.1 Opus ì‹¬ì¸µ ì‚¬ê³  ë²„ì „
  - `claude-sonnet-4-5-20250929-thinking` - Claude 4.5 Sonnet ì‹¬ì¸µ ì‚¬ê³  ë²„ì „
</ParamField>

<ParamField body="messages" type="array" required>
  ë©”ì‹œì§€ ëª©ë¡

  ëª¨ë¸ì´ ë‹¤ìŒ ì‘ë‹µì„ ìƒì„±í•˜ê¸° ìœ„í•œ ë©”ì‹œì§€ ë°°ì—´ì…ë‹ˆë‹¤. ê° ë©”ì‹œì§€ëŠ” `role`ê³¼ `content` ë‘ í•„ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.

  **ğŸ’¡ ë¹ ë¥¸ ì…ë ¥ (Try it ì˜ì—­):**
  1. "+ Add an item"ì„ í´ë¦­í•˜ì—¬ ë©”ì‹œì§€ ì¶”ê°€
  2. `role` ì…ë ¥: `user` (ì‚¬ìš©ì ë©”ì‹œì§€) ë˜ëŠ” `assistant` (AI ì‘ë‹µ, ë‹¤ì¤‘ í„´ìš©)
  3. `content` ì…ë ¥: í•˜ê³  ì‹¶ì€ ë§
  
  <Expandable title="í•„ë“œ ìƒì„¸">
    <ParamField body="role" type="string" required default="user">
      ì—­í•  ìœ í˜•
      
      ì„ íƒ ê°€ëŠ¥: `user` (ì‚¬ìš©ì ë©”ì‹œì§€), `assistant` (AI ì‘ë‹µ, ë‹¤ì¤‘ í„´ ëŒ€í™” ë° ë¯¸ë¦¬ ì±„ìš°ê¸°ìš©)
      
      ì°¸ê³ : Claude APIëŠ” ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ë³„ë„ì˜ `system` ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ë©° messagesì—ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
    </ParamField>

    <ParamField body="content" type="string" required>
      ë©”ì‹œì§€ ë‚´ìš©
      
      ë©”ì‹œì§€ì˜ í…ìŠ¤íŠ¸ ë‚´ìš©
    </ParamField>
  </Expandable>

  **ë‹¨ì¼ ì‚¬ìš©ì ë©”ì‹œì§€:**
  ```json
  [{"role": "user", "content": "ì•ˆë…•í•˜ì„¸ìš”, Claude"}]
  ```

  **ë‹¤ì¤‘ í„´ ëŒ€í™”:**
  ```json
  [
    {"role": "user", "content": "ì•ˆë…•í•˜ì„¸ìš”."},
    {"role": "assistant", "content": "ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” Claudeì…ë‹ˆë‹¤. ì–´ë–»ê²Œ ë„ì™€ë“œë¦´ê¹Œìš”?"},
    {"role": "user", "content": "LLMì„ ì‰½ê²Œ ì„¤ëª…í•´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"}
  ]
  ```

  **ë¯¸ë¦¬ ì±„ì›Œì§„ ì–´ì‹œìŠ¤í„´íŠ¸ ì‘ë‹µ:**
  ```json
  [
    {"role": "user", "content": "íƒœì–‘ì˜ ê·¸ë¦¬ìŠ¤ ì´ë¦„ì€? (A) Sol (B) Helios (C) Sun"},
    {"role": "assistant", "content": "ì •ë‹µì€ ("}
  ]
  ```
</ParamField>

<ParamField body="max_tokens" type="integer">
  ìƒì„±í•  ìµœëŒ€ í† í° ìˆ˜

  ì¤‘ì§€í•˜ê¸° ì „ì— ìƒì„±í•  ìµœëŒ€ í† í° ìˆ˜ì…ë‹ˆë‹¤. ëª¨ë¸ì´ ì´ ì œí•œì— ë„ë‹¬í•˜ê¸° ì „ì— ì¤‘ì§€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ëª¨ë¸ë§ˆë‹¤ ìµœëŒ€ê°’ì´ ë‹¤ë¦…ë‹ˆë‹¤. ìµœì†Œê°’: 1
</ParamField>

<ParamField body="system" type="string | array">
  ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

  ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ëŠ” Claudeì˜ ì—­í• , ì„±ê²©, ëª©í‘œ ë° ì§€ì‹œì‚¬í•­ì„ ì„¤ì •í•©ë‹ˆë‹¤.

  **ë¬¸ìì—´ í˜•ì‹:**
  ```json
  {
    "system": "ë‹¹ì‹ ì€ ì „ë¬¸ Python í”„ë¡œê·¸ë˜ë° íŠœí„°ì…ë‹ˆë‹¤"
  }
  ```

  **êµ¬ì¡°í™”ëœ í˜•ì‹:**
  ```json
  {
    "system": [
      {
        "type": "text",
        "text": "ë‹¹ì‹ ì€ ì „ë¬¸ Python í”„ë¡œê·¸ë˜ë° íŠœí„°ì…ë‹ˆë‹¤"
      }
    ]
  }
  ```
</ParamField>

<ParamField body="temperature" type="number">
  Temperature ë§¤ê°œë³€ìˆ˜, ë²”ìœ„ 0-1

  ì¶œë ¥ì˜ ë¬´ì‘ìœ„ì„±ì„ ì œì–´í•©ë‹ˆë‹¤:
  - ë‚®ì€ ê°’ (ì˜ˆ: 0.2): ë” ê²°ì •ì ì´ê³  ë³´ìˆ˜ì 
  - ë†’ì€ ê°’ (ì˜ˆ: 0.8): ë” ë¬´ì‘ìœ„ì ì´ê³  ì°½ì˜ì 

  ê¸°ë³¸ê°’: 1.0
</ParamField>

<ParamField body="top_p" type="number">
  í•µ ìƒ˜í”Œë§ ë§¤ê°œë³€ìˆ˜, ë²”ìœ„ 0-1

  í•µ ìƒ˜í”Œë§ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. `temperature` ë˜ëŠ” `top_p` ì¤‘ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

  ê¸°ë³¸ê°’: 1.0
</ParamField>

<ParamField body="top_k" type="integer">
  Top-K ìƒ˜í”Œë§

  ìƒìœ„ Kê°œ ì˜µì…˜ì—ì„œë§Œ ìƒ˜í”Œë§í•˜ì—¬ í™•ë¥ ì´ ë‚®ì€ "ë¡±í…Œì¼" ì‘ë‹µì„ ì œê±°í•©ë‹ˆë‹¤.

  ê³ ê¸‰ ì‚¬ìš© ì‚¬ë¡€ì—ë§Œ ê¶Œì¥ë©ë‹ˆë‹¤.
</ParamField>

<ParamField body="stream" type="boolean">
  ìŠ¤íŠ¸ë¦¬ë° í™œì„±í™”

  `true`ì´ë©´ Server-Sent Events (SSE)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¬ë°í•©ë‹ˆë‹¤.

  ê¸°ë³¸ê°’: false
</ParamField>

<ParamField body="stop_sequences" type="array">
  ì¤‘ì§€ ì‹œí€€ìŠ¤

  ëª¨ë¸ì´ ìƒì„±ì„ ì¤‘ì§€í•˜ë„ë¡ í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ í…ìŠ¤íŠ¸ ì‹œí€€ìŠ¤ì…ë‹ˆë‹¤.

  ìµœëŒ€ 4ê°œì˜ ì‹œí€€ìŠ¤.

  ì˜ˆ: `["\n\nHuman:", "\n\nAssistant:"]`
</ParamField>

<ParamField body="metadata" type="object">
  ë©”íƒ€ë°ì´í„°

  ìš”ì²­ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„° ê°ì²´ì…ë‹ˆë‹¤.

  í¬í•¨:
  - `user_id`: ì‚¬ìš©ì ì‹ë³„ì
</ParamField>

<ParamField body="tools" type="array">
  ë„êµ¬ ì •ì˜

  ëª¨ë¸ì´ ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ëª©ë¡ì…ë‹ˆë‹¤.

  **í•¨ìˆ˜ ë„êµ¬ ì˜ˆ:**
  ```json
  {
    "tools": [
      {
        "name": "get_weather",
        "description": "ì£¼ì–´ì§„ ìœ„ì¹˜ì˜ í˜„ì¬ ë‚ ì”¨ ê°€ì ¸ì˜¤ê¸°",
        "input_schema": {
          "type": "object",
          "properties": {
            "location": {
              "type": "string",
              "description": "ë„ì‹œ ë° ì£¼, ì˜ˆ: San Francisco, CA"
            },
            "unit": {
              "type": "string",
              "enum": ["celsius", "fahrenheit"],
              "description": "ì˜¨ë„ ë‹¨ìœ„"
            }
          },
          "required": ["location"]
        }
      }
    ]
  }
  ```

  ì§€ì›ë˜ëŠ” ë„êµ¬ ìœ í˜•:
  - ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ ë„êµ¬
  - ì»´í“¨í„° ì‚¬ìš© ë„êµ¬ (computer_20241022)
  - í…ìŠ¤íŠ¸ í¸ì§‘ê¸° ë„êµ¬ (text_editor_20241022)
  - Bash ë„êµ¬ (bash_20241022)
</ParamField>

<ParamField body="tool_choice" type="object">
  ë„êµ¬ ì„ íƒ ì „ëµ

  ëª¨ë¸ì´ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì œì–´í•©ë‹ˆë‹¤:

  - `{"type": "auto"}`: ìë™ ê²°ì • (ê¸°ë³¸ê°’)
  - `{"type": "any"}`: ë„êµ¬ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼ í•¨
  - `{"type": "tool", "name": "tool_name"}`: íŠ¹ì • ë„êµ¬ ì‚¬ìš©
</ParamField>

## ì‘ë‹µ

<ResponseField name="id" type="string">
  ê³ ìœ  ë©”ì‹œì§€ ì‹ë³„ì

  ì˜ˆ: `"msg_013Zva2CMHLNnXjNJJKqJ2EF"`
</ResponseField>

<ResponseField name="type" type="string">
  ê°ì²´ ìœ í˜•

  í•­ìƒ `"message"`
</ResponseField>

<ResponseField name="role" type="string">
  ì—­í• 

  í•­ìƒ `"assistant"`
</ResponseField>

<ResponseField name="content" type="array">
  ì½˜í…ì¸  ë¸”ë¡ ë°°ì—´

  ëª¨ë¸ì—ì„œ ìƒì„±ëœ ì½˜í…ì¸ ë¡œ, ì½˜í…ì¸  ë¸”ë¡ì˜ ë°°ì—´ì…ë‹ˆë‹¤.

  **í…ìŠ¤íŠ¸ ì½˜í…ì¸ :**
  ```json
  [{"type": "text", "text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Claudeì…ë‹ˆë‹¤."}]
  ```

  **ë„êµ¬ ì‚¬ìš©:**
  ```json
  [
    {
      "type": "tool_use",
      "id": "toolu_01A09q90qw90lq917835lq9",
      "name": "get_weather",
      "input": {"location": "San Francisco, CA", "unit": "celsius"}
    }
  ]
  ```

  ì½˜í…ì¸  ìœ í˜•:
  - `text`: í…ìŠ¤íŠ¸ ì½˜í…ì¸ 
  - `tool_use`: ë„êµ¬ í˜¸ì¶œ
</ResponseField>

<ResponseField name="model" type="string">
  ìš”ì²­ì„ ì²˜ë¦¬í•œ ëª¨ë¸

  ì˜ˆ: `"claude-sonnet-4-5-20250929"`
</ResponseField>

<ResponseField name="stop_reason" type="string">
  ì¤‘ì§€ ì´ìœ 

  ê°€ëŠ¥í•œ ê°’:
  - `end_turn`: ìì—°ìŠ¤ëŸ¬ìš´ ì™„ë£Œ
  - `max_tokens`: ìµœëŒ€ í† í° ë„ë‹¬
  - `stop_sequence`: ì¤‘ì§€ ì‹œí€€ìŠ¤ ë„ë‹¬
  - `tool_use`: ë„êµ¬ í˜¸ì¶œë¨
</ResponseField>

<ResponseField name="stop_sequence" type="string | null">
  íŠ¸ë¦¬ê±°ëœ ì¤‘ì§€ ì‹œí€€ìŠ¤

  ìƒì„±ëœ ì¤‘ì§€ ì‹œí€€ìŠ¤ (ìˆëŠ” ê²½ìš°), ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `null`
</ResponseField>

<ResponseField name="usage" type="object">
  í† í° ì‚¬ìš©ëŸ‰ í†µê³„

  <Expandable title="ì†ì„±">
    <ResponseField name="input_tokens" type="integer">
      ì…ë ¥ í† í° ìˆ˜
    </ResponseField>

    <ResponseField name="output_tokens" type="integer">
      ì¶œë ¥ í† í° ìˆ˜
    </ResponseField>
  </Expandable>
</ResponseField>

## ì‚¬ìš© ì˜ˆì œ

### ê¸°ë³¸ ëŒ€í™”

```python
import anthropic

client = anthropic.Anthropic(
    api_key="YOUR_API_KEY",
    base_url="https://api.apimart.ai"
)

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "ì–‘ì ì»´í“¨íŒ…ì˜ ê¸°ì´ˆë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”"}
    ]
)

print(message.content[0].text)
```

### ë‹¤ì¤‘ í„´ ëŒ€í™”

```python
messages = [
    {"role": "user", "content": "ë¨¸ì‹ ëŸ¬ë‹ì´ ë¬´ì—‡ì¸ê°€ìš”?"},
    {"role": "assistant", "content": "ë¨¸ì‹ ëŸ¬ë‹ì€ AIì˜ í•œ ë¶„ì•¼ì…ë‹ˆë‹¤..."},
    {"role": "user", "content": "ì‹¤ìš©ì ì¸ ì˜ˆë¥¼ ë“¤ì–´ì£¼ì‹¤ ìˆ˜ ìˆë‚˜ìš”?"}
]

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=messages
)
```

### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©

```python
message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    system="ë‹¹ì‹ ì€ ì½”ë“œ ë¦¬ë·°ì™€ ìµœì í™” ì „ë¬¸ê°€ì¸ ì‹œë‹ˆì–´ Python ê°œë°œìì…ë‹ˆë‹¤.",
    messages=[
        {"role": "user", "content": "ì´ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ìµœì í™”í•  ìˆ˜ ìˆë‚˜ìš”?\n\n[code]"}
    ]
)
```

### ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ

```python
with client.messages.stream(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "AIì— ëŒ€í•œ ì§§ì€ ì—ì„¸ì´ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”"}
    ]
) as stream:
    for text in stream.text_stream:
        print(text, end="", flush=True)
```

### ë„êµ¬ ì‚¬ìš©

```python
tools = [
    {
        "name": "get_stock_price",
        "description": "ì‹¤ì‹œê°„ ì£¼ì‹ ê°€ê²© ê°€ì ¸ì˜¤ê¸°",
        "input_schema": {
            "type": "object",
            "properties": {
                "ticker": {
                    "type": "string",
                    "description": "ì£¼ì‹ í‹°ì»¤ ì‹¬ë³¼, ì˜ˆ: AAPL"
                }
            },
            "required": ["ticker"]
        }
    }
]

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    tools=tools,
    messages=[
        {"role": "user", "content": "í…ŒìŠ¬ë¼ì˜ ì£¼ì‹ ê°€ê²©ì€ ì–¼ë§ˆì¸ê°€ìš”?"}
    ]
)

# ë„êµ¬ í˜¸ì¶œ ì²˜ë¦¬
if message.stop_reason == "tool_use":
    tool_use = next(block for block in message.content if block.type == "tool_use")
    print(f"ë„êµ¬ í˜¸ì¶œ: {tool_use.name}")
    print(f"ì¸ìˆ˜: {tool_use.input}")
```

### ë¹„ì „ ì´í•´

```python
message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "url",
                        "url": "https://example.com/image.jpg"
                    }
                },
                {
                    "type": "text",
                    "text": "ì´ ì´ë¯¸ì§€ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”"
                }
            ]
        }
    ]
)
```

### Base64 ì´ë¯¸ì§€

```python
import base64

with open("image.jpg", "rb") as image_file:
    image_data = base64.b64encode(image_file.read()).decode("utf-8")

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "image",
                    "source": {
                        "type": "base64",
                        "media_type": "image/jpeg",
                        "data": image_data
                    }
                },
                {
                    "type": "text",
                    "text": "ì´ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”"
                }
            ]
        }
    ]
)
```

## ëª¨ë²” ì‚¬ë¡€

### 1. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

**ëª…í™•í•œ ì—­í•  ì •ì˜:**
```python
system = """ë‹¹ì‹ ì€ ë‹¤ìŒì„ ì „ë¬¸ìœ¼ë¡œ í•˜ëŠ” ê²½í—˜ ë§ì€ ë°ì´í„° ê³¼í•™ìì…ë‹ˆë‹¤:
- í†µê³„ ë¶„ì„ ë° ë°ì´í„° ì‹œê°í™”
- ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ ê°œë°œ
- Python ë° R í”„ë¡œê·¸ë˜ë°
ì „ë¬¸ì ì´ê³  ì •í™•í•œ ì¡°ì–¸ì„ ì œê³µí•˜ì„¸ìš”."""
```

**êµ¬ì¡°í™”ëœ ì¶œë ¥:**
```python
message = "ë¶„ì„ ê²°ê³¼ë¥¼ summary, key_findings, recommendations í•„ë“œê°€ í¬í•¨ëœ JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•´ì£¼ì„¸ìš”."
```

### 2. ì˜¤ë¥˜ ì²˜ë¦¬

```python
from anthropic import APIError, RateLimitError

try:
    message = client.messages.create(
        model="claude-sonnet-4-5-20250929",
        max_tokens=1024,
        messages=[{"role": "user", "content": "ì•ˆë…•í•˜ì„¸ìš”"}]
    )
except RateLimitError:
    print("ìš”ì²­ í•œë„ ì´ˆê³¼, ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”")
except APIError as e:
    print(f"API ì˜¤ë¥˜: {e}")
```

### 3. í† í° ìµœì í™”

```python
# ë” ì§§ì€ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
messages = [
    {"role": "user", "content": "í•µì‹¬ í¬ì¸íŠ¸ ìš”ì•½:\n\n[ê¸´ í…ìŠ¤íŠ¸]"}
]

# ì¶œë ¥ ê¸¸ì´ ì œí•œ
message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=500,  # ì¶œë ¥ ì œí•œ
    messages=messages
)
```

### 4. ì‘ë‹µ ë¯¸ë¦¬ ì±„ìš°ê¸°

```python
# ëª¨ë¸ì„ íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ì•ˆë‚´
messages = [
    {"role": "user", "content": "Python ëª¨ë²” ì‚¬ë¡€ 5ê°€ì§€ë¥¼ ë‚˜ì—´í•´ì£¼ì„¸ìš”"},
    {"role": "assistant", "content": "Python ëª¨ë²” ì‚¬ë¡€ 5ê°€ì§€:\n\n1."}
]

message = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=messages
)
```

## ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì²˜ë¦¬

### Python ìŠ¤íŠ¸ë¦¬ë°

```python
import anthropic

client = anthropic.Anthropic(
    api_key="YOUR_API_KEY",
    base_url="https://api.apimart.ai"
)

with client.messages.stream(
    model="claude-sonnet-4-5-20250929",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "Python ë°ì½”ë ˆì´í„° ì˜ˆì œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”"}
    ]
) as stream:
    for text in stream.text_stream:
        print(text, end="", flush=True)
```

### JavaScript ìŠ¤íŠ¸ë¦¬ë°

```javascript
import Anthropic from '@anthropic-ai/sdk';

const client = new Anthropic({
  apiKey: process.env.API_KEY,
  baseURL: 'https://api.apimart.ai'
});

const stream = await client.messages.stream({
  model: 'claude-sonnet-4-5-20250929',
  max_tokens: 1024,
  messages: [
    { role: 'user', content: 'React ì»´í¬ë„ŒíŠ¸ ì˜ˆì œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”' }
  ]
});

for await (const chunk of stream) {
  if (chunk.type === 'content_block_delta' &&
      chunk.delta.type === 'text_delta') {
    process.stdout.write(chunk.delta.text);
  }
}
```

## ì¤‘ìš” ì°¸ê³ ì‚¬í•­

1. **API í‚¤ ë³´ì•ˆ**:
   - API í‚¤ë¥¼ í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í•˜ì„¸ìš”
   - ì†ŒìŠ¤ ì½”ë“œì— í‚¤ë¥¼ í•˜ë“œì½”ë”©í•˜ì§€ ë§ˆì„¸ìš”
   - ì •ê¸°ì ìœ¼ë¡œ í‚¤ë¥¼ êµì²´í•˜ì„¸ìš”

2. **ìš”ì²­ ì œí•œ**:
   - API ìš”ì²­ ì œí•œì— ìœ ì˜í•˜ì„¸ìš”
   - ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•˜ì„¸ìš”
   - ì§€ìˆ˜ ë°±ì˜¤í”„ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

3. **í† í° ê´€ë¦¬**:
   - í† í° ì‚¬ìš©ëŸ‰ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”
   - í”„ë¡¬í”„íŠ¸ ê¸¸ì´ë¥¼ ìµœì í™”í•˜ì„¸ìš”
   - ì ì ˆí•œ max_tokens ê°’ì„ ì‚¬ìš©í•˜ì„¸ìš”

4. **ëª¨ë¸ ì„ íƒ**:
   - Opus: ë³µì¡í•œ ì‘ì—…, ê¹Šì€ ì‚¬ê³  í•„ìš”
   - Sonnet: ê· í˜•ì¡íŒ ì„±ëŠ¥ê³¼ ë¹„ìš©
   - Haiku: ë¹ ë¥¸ ì‘ë‹µ, ê°„ë‹¨í•œ ì‘ì—…

5. **ì½˜í…ì¸  í•„í„°ë§**:
   - ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ì„¸ìš”
   - ë¯¼ê°í•œ ì •ë³´ë¥¼ í•„í„°ë§í•˜ì„¸ìš”
   - ì½˜í…ì¸  ì¡°ì •ì„ êµ¬í˜„í•˜ì„¸ìš”
